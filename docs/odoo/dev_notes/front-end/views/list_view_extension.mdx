---
title: ListViewæ‰©å±•
description: ListViewæ‰©å±•
sidebar_label: ListViewæ‰©å±•
keyword:
    - odoo
    - odoo development
tags: [odoo]
last_update:
  date: 2025/11/10
  author: Lucas
---

# ListViewæ‰©å±•

:::info[Note]

å¯¹ListViewåšä¸€äº›æ”¹é€ ï¼Œä»¥å®ç°æ›´å¤šçš„åŠŸèƒ½ã€‚

--odoo version: 16

:::

## åœ¨`<Field/>`æ ‡ç­¾è®¾ç½®æ ‡é¢˜è¡Œclass

é€šè¿‡åœ¨`<field/>`æ ‡ç­¾å†…è®¾ç½®`options`å±æ€§å¯¹åº”`thClassNames`ä¸º`key`çš„å€¼ï¼Œå‘`list`è¡¨æ ¼çš„æ ‡é¢˜è¡Œæ·»åŠ `class`ã€‚

```javascript
/** @odoo-module **/
import { ListRenderer } from "@web/views/list/list_renderer";
import { patch } from "@web/core/utils/patch";

patch(ListRenderer.prototype, "ListRenderer.patch.addHeaderClass", {
    getColumnClass(column){
        const classNamesString = this._super(column);
        const classNames = classNamesString.split(" ");
        if (column.options && column.options.thClassNames){
            classNames.push(...column.options.thClassNames.split(" "));
        }
        return classNames.join(" ");
    },
});
```

ä½¿ç”¨ç¤ºä¾‹

```xml
<field name="project_id" options="{'thClassNames': "text-primary text-end"}" />
```

## åŒå‡»æ‰“å¼€è§†å›¾

é€šè¿‡ä¿®æ”¹listRendererï¼Œå®ç°åŒå‡»åˆ—è¡¨è®°å½•çš„äº‹ä»¶ã€‚

:::tip[ğŸ’¡å•å‡»è·³è½¬è§†å›¾]
å•å‡»è·³è½¬è§†å›¾å¯ä»¥æŸ¥é˜…[æ–‡æ¡£](/odoo/dev_notes/source_code_analysis/views/list_view_open_record_dynamic)
:::

> ä»¥ä¸‹ä¸º`js_class`æ–¹å¼å®ç°ï¼Œå¯æ ¹æ®éœ€è¦ä¿®æ”¹ä¸º`patch`ã€‚

```javascript
/** @odoo-module **/

import { useService } from "@web/core/utils/hooks";
import { registry } from "@web/core/registry";
import { ListRenderer } from "@web/views/list/list_renderer";
import { listView } from "@web/views/list/list_view";

class ListDoubleClickDoAction extends ListRenderer {
    setup(){
        super.setup();
        this.action = useService("action");
        this.orm = useService("orm");
    }

    async onDoubleClicked(record, ev){
        try{
            const action = this.orm.call(record.resModel, "custom_double_click_action", [record.resId]);
            await this.action.doAction(action);
        } catch (e) {
            console.log('list double click error: ', e);
        }
    }
}
ListDoubleClickDoAction.recordRowTemplate = "ListDoubleClickDoAction.RecordRow";

const ListDoubleClickDoActionView = {
    ...listView,
    Renderer: ListDoubleClickDoAction,
}

registry.category("views").add('list_double_click_doaction', ListDoubleClickDoActionView);
```

```xml
<?xml version="1.0" encoding="UTF-8" ?>
<templates xml:space="preserve">

    <t t-name="my.ListDoubleClickDoAction.RecordRow" t-inherit="web.ListRenderer.RecordRow" t-inherit-mode="primary" owl="1">
        <xpath expr="//tr[hasclass('o_data_row')]//td[hasclass('o_data_cell')]" position="attributes">
            <attribute name="t-on-dblclick">(ev) => this.onDoubleClicked(record, ev)</attribute>
        </xpath>
    </t>

</templates>
```

